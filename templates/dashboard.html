{% extends "base.html" %}
{% block content %}
<div class="row g-3">
  <div class="col-md-4">
    <div class="card p-3">
      <h5>Total Tasks</h5>
      <h2>{{ task_count }}</h2>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-3">
      <h5>Completed</h5>
      <h2>{{ done_count }}</h2>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-3">
      <h5>Pending</h5>
      <h2>{{ pending_count }}</h2>
    </div>
  </div>
</div>

<hr />

<div class="row mt-3">
  <div class="col-md-6">
    <h6>Top Categories</h6>
    <ul class="list-group">
      {% for c in categories %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ c.name }} <span class="badge bg-primary rounded-pill">{{ c.task_count }}</span>
      </li>
      {% empty %}
      <li class="list-group-item">No categories</li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-md-6">
    <h6>Top Priorities</h6>
    <ul class="list-group">
      {% for p in priorities %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ p.level }} <span class="badge bg-primary rounded-pill">{{ p.task_count }}</span>
      </li>
      {% empty %}
      <li class="list-group-item">No priorities</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
